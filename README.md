# test_for_o_complex
Тестовое задание для О-Комплекс

## Инструкция по запуску:

### Прод среда:

1) Сформировать .env файл по примеру .env-example в той же директории
2) docker-compose up -d --build

### Dev среда

1) Необходимо установить менеджер пакетов pipenv:
```bazaar
pip install pipenv
```
2) Запустить установку зависимостей из папки, где находится Pipfile.lock:
```bazaar
pipenv install
```
3) Запустить pipenv:
```bazaar
pipenv shell
```
4) Сконфигурировать файл .env по примеру из .env-example в той же директории
5) * Добавить в backend/settings.py строки:
```bazaar
from dotenv import load_dotenv

load_dotenv()
```
Примечание: при попытке сформировать докер контейнеры с этими строками будет ошибка, т.к. необходимая библиотека не указана в requirements.txt


* Либо интегрировать файл зависимостей через IDE
6) Из директории с файлом manage.py:
```bazaar
python manage.py migrate
python manage.py parse_cities
python manage.py runserver
```

## Пару слов о проекте:
Сервис для получения погоды в городах России. Города хранятся в БД и добавляются туда командой. Авторизация по middleware + cookie для UI на HTML, либо по JWT-токенам при работе с API. Реализованные фичи:
- написаны тесты
- проект помещен в докер
- сделаны автодополнение (подсказки) при вводе города
- при повторном посещении сайта предложено посмотреть погоду в городе, в котором пользователь уже смотрел ранее
- сохраняется история поиска для каждого пользователя, через API можно узнать: статистику по отдельному городу, статистику пользователя, список городов


### Полезные ссылки(аккуратнее с портом, если меняли в .env):
1) Главная страница:
```bazaar
http://127.0.0.1:8000/
```
2) Документация API:
```bazaar
http://127.0.0.1:8000/api/v1/redoc/
```

### Стэк:
```bazaar
Django, drf, drf-spectacular, requests, pytest, black, PostgresQL, Docker, pipenv
```

## Автор
Бушланов Глеб. TG: @serenityblood, mail: miracle_5@bk.ru